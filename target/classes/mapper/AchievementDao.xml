<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.tit.idao.IAchievementDao">
	<resultMap type="cn.edu.tit.bean.Achievement" id="achievementMap">
		<id column="achievement_id" property="achievementId" />
		<result column="achievement_category" property="achievementName" />
		<result column="achievement_name" property="achievementCategory" />
		<result column="achievement_photo" property="achievementPhoto" />
		<result column="achievement_detail" property="achievementDetail" />
		<result column="guidance_teacher" property="guidanceTeacher" />
		<result column="member" property="member" />
		<result column="compere" property="compere" />
		<result column="team_name" property="teamName" />
		<result column="level" property="level" />
		<result column="approval_time" property="approvalTime" />
		<result column="finish_time" property="finishTime" />
		<result column="achievement_accessory" property="achievementAccessory" />
		<result column="fund" property="fund" />
		<result column="feature" property="feature" />
		<result column="shared_value" property="sharedValue" />
		<result column="is_share" property="isShare" />
		<result column="turnover" property="turnover" />
	</resultMap>
	<resultMap type="cn.edu.tit.bean.IURP" id="IURPMap">
		<id column="project_id" property="projectId" />
		<result column="project_name" property="projectName" />
		<result column="project_detail" property="projectDetail" />
		<result column="compere" property="compere" />
		<result column="member" property="member" />
		<result column="collect_the_amount" property="collectTheAmount" />
		<result column="cooperator" property="cooperator" />
		<result column="start_time" property="startTime" />
		<result column="end_time" property="endTime" />
		<result column="status" property="status" />
		<result column="project_photo" property="projectPhoto" />
		<result column="is_share" property="isshare" />
		<result column="project_category" property="projectCategory" />
	</resultMap>
	<!-- 关于achievement 表的查询 -->
	<select id="queryAchievement" resultMap="achievementMap">
		SELECT * FROM
		achievement;
	</select>
	<select id="queryAchievementByCategory" resultMap="achievementMap"
		parameterType="java.lang.String">
		SELECT * FROM achievement where achievement_category=
		#{category};
	</select>
	<select id="queryAchievementByName" resultMap="achievementMap"
		parameterType="java.lang.String">
		SELECT * FROM achievement
		<where>
			achievement_name
			LIKE CONCAT(CONCAT("%", #{search}), "%")
		</where>
		;
	</select>
	<select id="queryAchievementByTeam" resultMap="achievementMap"
		parameterType="java.lang.String">
		SELECT * FROM achievement
		<where>
			team_name
			LIKE CONCAT(CONCAT("%", #{search}), "%")
		</where>
		;
	</select>
	<select id="queryAchievementById" resultMap="achievementMap"
		parameterType="java.lang.String">
		SELECT * FROM achievement achievement_id=
		#{achievementId};
	</select>
	<!-- 关于IURP产学研表的查询 -->
	<select id="queryIURP" resultMap="IURPMap">
		SELECT * FROM
		industry_university_research_project;
	</select>
	<select id="queryIURPByName" resultMap="IURPMap" parameterType="java.lang.String">
		SELECT * FROM industry_university_research_project
		<where>
			project_name
			LIKE CONCAT(CONCAT("%", #{search}), "%")
		</where>
		;
	</select>
	<select id="queryIURPByAuthor" resultMap="IURPMap"
		parameterType="java.lang.String">
		SELECT * FROM industry_university_research_project
		<where>
			member
			LIKE CONCAT(CONCAT("%", #{search}), "%")
		</where>
		;
	</select>

	<insert id="publishAchievement" parameterType="cn.edu.tit.bean.Achievement">
		INSERT INTO
		achievement
		(achievement_id,
		achievement_category,
		achievement_name,
		achievement_photo,
		achievement_detail,
		guidance_teacher,
		member,
		compere,
		team_name,
		level,
		approval_time,
		finish_time,
		achievement_accessory,
		fund,
		feature,
		shared_value,
		is_share,
		turnover)
		VALUES
		(
		#{achievement.achievementId,jdbcType=VARCHAR},
		#{achievement.achievementCategory,jdbcType=VARCHAR},
		#{achievement.achievementName,jdbcType=VARCHAR},
		#{achievement.achievementPhoto,jdbcType=VARCHAR},
		#{achievement.achievementDetail,jdbcType=VARCHAR},
		#{achievement.guidanceTeacher,jdbcType=VARCHAR},
		#{achievement.member,jdbcType=VARCHAR},
		#{achievement.compere,jdbcType=VARCHAR},
		#{achievement.teamName,jdbcType=VARCHAR},
		#{achievement.level,jdbcType=VARCHAR},
		#{achievement.approvalTime,jdbcType=VARCHAR},
		#{achievement.finishTime,jdbcType=VARCHAR},
		#{achievement.achievementAccessory,jdbcType=VARCHAR},
		#{achievement.fund,jdbcType=VARCHAR},
		#{achievement.feature,jdbcType=VARCHAR},
		#{achievement.sharedValue,jdbcType=VARCHAR},
		#{achievement.isShare,jdbcType=VARCHAR},
		#{achievement.turnover,jdbcType=VARCHAR}
		)
	</insert>
	<insert id="publishIURP" parameterType="cn.edu.tit.bean.IURP">
		INSERT INTO
		industry_university_research_project
		(project_id,
		project_name,
		project_detail,
		compere,
		member,
		collect_the_amount,
		cooperator,
		start_time,
		end_time,
		status,
		project_photo,
		is_share,
		project_category)
		VALUES
		(
		#{iurp.projectId,jdbcType=VARCHAR},
		#{iurp.projectName,jdbcType=VARCHAR},
		#{iurp.projectDetail,jdbcType=VARCHAR},
		#{iurp.compere,jdbcType=VARCHAR},
		#{iurp.member,jdbcType=VARCHAR},
		#{iurp.collectTheAmount,jdbcType=VARCHAR},
		#{iurp.cooperator,jdbcType=VARCHAR},
		#{iurp.startTime,jdbcType=VARCHAR},
		#{iurp.endTime,jdbcType=VARCHAR},
		#{iurp.status,jdbcType=VARCHAR},
		#{iurp.projectPhoto,jdbcType=VARCHAR},
		#{iurp.isshare,jdbcType=VARCHAR},
		#{iurp.projectCategory,jdbcType=VARCHAR}
		)
	</insert>
</mapper>